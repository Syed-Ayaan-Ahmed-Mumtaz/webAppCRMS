<!DOCTYPE html>
<html>

<head>
    <title>Edit Record</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>
    <div class="banner">
        <img src="{{ url_for('static', filename='images/logo.svg')}}" alt="logo" class="logo">
        <h1 class="banner-text">Edit Record - CRMS</h1>
    </div>
    <div class="records-container">
        <h2>Edit Record (ID: {{ record.id }})</h2>

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <ul class="flash-messages">
            {% for category, message in messages %}
            <li class="flash-message {{ category }}">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}

        <form method="POST" action="{{ url_for('edit_record', record_id=record.id) }}">
            <input type="text" name="name" placeholder="Case Name" value="{{ record.name }}" required>
            <textarea name="description" placeholder="Description" rows="3" required>{{ record.description }}</textarea>

            <select name="status" required>
                <option value="Open" {% if record.status=='Open' %}selected{% endif %}>Open</option>
                <option value="Closed" {% if record.status=='Closed' %}selected{% endif %}>Closed</option>
                <option value="Under Investigation" {% if record.status=='Under Investigation' %}selected{% endif %}>
                    Under Investigation</option>
                <option value="Arrest Made" {% if record.status=='Arrest Made' %}selected{% endif %}>Arrest Made
                </option>
            </select>

            <input type="text" name="officer_name" placeholder="Officer Name" value="{{ record.officer_name }}"
                required>
            <input type="date" name="crime_date" value="{{ record.crime_date }}" required>
            <button type="submit">Update Record</button>
        </form>

        <p><a href="{{ url_for('manage_records') }}"><button>Back to Manage Records</button></a></p>
    </div>
</body>

</html>